checkstyle {
    // Static analysis tools automatically scan your code for style violations, programming errors, and bad practices
    // without actually running it. This ensures consistency and helps catch potential bugs early.
    toolVersion = '10.26.1'
    // Explicitly tell Checkstyle where to find its configuration file.
    configFile = file("${rootDir}/config/checkstyle/checkstyle.xml")
    configProperties = [
            "checkstyle.cache.file": "${projectDir}/checkstyle-cachefile"
    ]

    // Fail the build if there is more than 0 errors.
    // This enforces a strict quality gate.
    maxErrors = 0
}

tasks.withType(Checkstyle).configureEach {
    reports {
        xml.required.set(false)
        html.required.set(true)
    }
}